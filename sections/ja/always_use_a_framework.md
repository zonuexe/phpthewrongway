# 常にフレームワークを利用すべきだ #

> 全ての汎用PHPフレームワークは最悪だ！
>
> -- [Rasmus Lerdorf](https://www.youtube.com/watch?v=DuB6UjEsY_Y)

PHPコミュニティにおけるよくない流行では、人気の汎用フレームワークを使ってWebアプリケーションを開発することが事実上の標準となりました。

この傾向が登場して広まったのは、それが開発の成果物を何らかの形で改善するからでも、技術やアーキテクチャの観点から正しいからでもありません。いくつかのフレームワークの開発者たちが「車輪を再発明するな！」「自分でやるな、ほかのひとたちはあなたよりも腕がいい」のような心地よい言葉で、ゼロからプログラミングしたがる人々に反対したことで人気を集めたからです。

今日の多くのプログラマーたちは健全なプログラミングの基本原則を完全に無視しています。より巧みに、よりクールに、そしてそれを支持する仲間うちに受け入れられやすいように、新しい層の複雑さをを幻想的にすることに多くの時間を費しています。

彼らは、ほかの人々が自分たちの「やり方」に従うこと、PHPコミュニティのリーダーになること、そして最新の「イカした」オープンソースツールを使わせることに夢中になって、健全で堅実であれというアドバイスを忘れてしまったようです。

ソフトウェア業界では、組み立て式の住宅と汎用フレームワークを対比させることができます。組み立て式の住宅を建てたことで大工になれるわけありません。同じように、汎用フレームワークを使ってソフトウェアを構築したからといってコーダーやプログラマーになったことにはなりません。

このウェブサイトでは、フレームワークとライブラリを以下のように区別します：

* ライブラリとは、C標準ライブラリやGoの標準ライブラリのような再利用可能なコードの集まりだと位置付けられます。それは容易に自身のプロジェクトで利用できるコードで構成されています。一つの機能ごとに小さな部品からなるコードで構成されたものです。
* フレームワークは単に再利用可能なコードではないので、簡単に一部分を取り出して自身のプロジェクトで利用することはできません。フレームワークはソフトウェアの構築に役立ちますが、フレームワークの制限内で動かすことを強要します。フレームワーク内には相互に多くの機能的な依存があり、ある一部分はその他の部分が欠けては動きません。

PythonとRubyはどちらも当初からWebのために開発された言語ではなかったので、Webサイトの構築は面倒です。そのため、これらの言語では[Django](https://ja.wikipedia.org/wiki/Django)や[Ruby on Rails](https://ja.wikipedia.org/wiki/Ruby_on_Rails)のようなフレームワークが急速に普及しました。

一方でPHPは最初からRasmus Lerdorfによって動的なHTMLを簡単で素早く作れるC言語で書かれたツールセットとして開発されました。そのためPHPは、それ自体がフレームワークです。

PHPはそれから多くの進化を遂げ、今日ではHTMLやWebサイトを構築する以外の用途にも利用することができます。だとしても、PHPをフレームワークと見なすことは間違っていません。PHPは本質的には手続き型のC言語で書かれたWebアプリケーションを開発するための抽象化層です。

プロジェクト内でライブラリを利用することは当然です。PHP自体には、あなたのコードを拡張するために利用できるライブラリ群が同梱されています。たとえばPDOは、PHPからデータベースにアクセスするための一貫したインターフェイスを提供するための軽量ライブラリです。

そのPHPの上でフレームワークを利用することは、まったく別の問題です。

PHPでフレームワークを利用することは、抽象化層の上に抽象化層を重ねることになりますが、そのひとつは既に最初に使用するために用意されたものです。追加されたフレームワークによる抽象化層はあなたのコードをあらかじめ決められたパターンにまとめるために役立つかもしれませんし、数百から数千ものクラスとメソッドを依存関係の悪夢によって複雑さを増すかもしれません。どちらにせよ、追加された層によってあなたのコードは不必要に複雑になります！

すべての体験はインターフェイスから始まります。そのインターフェイスの体験は基盤となる技術と、抽象化層の量からなります。使用する抽象度が高いほどインターフェイスの効率は低下し、アプリケーションにエラーが生じやすい状態になります。抽象度が高いほど、詳細と効率が失われます。

これをはっきりと理解してください：**プロジェクトのコードの理想的な行数ができるだけ少なくなるほど、可能な限り明瞭かつ読みやすくなります！**

> 汎用フレームワークは誰にも無用のものです。誰も一般的な問題などというものはなく、みな特別な問題を解決しようとしています。
>
> -- [Rasmus Lerdorf](https://www.youtube.com/watch?v=anr7DQnMMs0)

いくつもの企業はPHPフレームワークについての誇大宣伝を聞きつけ、新しいプロジェクトを人気のある汎用フレームワークを使って開始したところ、散々な結果で終りました。彼らは汎用フレームワークが具体的なニーズを解決するのに適さないことを発見したばかりか、信じられないほど動作が遅かったのです。それらをスケールさせることは不可能だったため、開発者は不必要なものを取り除くための絶望的な試みとしてフレームワークを壊しはじめました。

常に実践的なアプローチを使用してください：

> Action or policy dictated by consideration of the immediate practical consequences rather than by theory or dogma.
> (行動や政策は、理論や教義ではなく、直接の実践的な結果を考慮して決定される。)
>
> -- Collins English Dictionary, Complete and Unabridged, 12th Edition 2014

**間違った方法**: いつでもPHPの上でフレームワークを利用する ![Thumbs down](/img/thumbs-down.png)
